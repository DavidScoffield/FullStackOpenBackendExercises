{"version":3,"sources":["components/ErrorNotification.js","components/Filter.js","services/persons.js","components/Numbers.js","components/PersonForm.js","App.js","index.js"],"names":["showErrorNotification","msg","setNewErrorNotification","setTimeout","ErrorNotification","message","className","Filter","newSearch","setNewSearch","value","onChange","event","target","baseUrl","newObject","axios","post","then","response","data","id","url","delete","get","put","Person","name","number","Numbers","personsFiltered","setPersonsFiltered","setAllPersons","allPersons","map","person","onClick","window","confirm","personsServices","filtered","filter","pers","allPersonsWithoutDeletedPerson","deleteNumber","PersonForm","newNumber","newName","setNewName","setNewNumber","onSubmit","e","preventDefault","personFound","find","element","updatedPerson","newAllPersons","catch","error","console","log","updateNumber","newObj","concat","createNumber","type","App","useState","errorNotification","useEffect","toLowerCase","includes","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.3402d544.chunk.js","sourcesContent":["import React from 'react'\r\nimport '../index.css'\r\n\r\nexport const showErrorNotification = ({ msg, setNewErrorNotification }) => {\r\n  setNewErrorNotification(msg)\r\n  setTimeout(() => {\r\n    setNewErrorNotification(null)\r\n  }, 5000)\r\n}\r\n\r\nconst ErrorNotification = ({ message }) => {\r\n  return <div className='error'>{message}</div>\r\n}\r\n\r\nexport default ErrorNotification\r\n","import React from 'react'\r\n\r\nconst Filter = ({ newSearch, setNewSearch }) => {\r\n  const handleSearchChange = (event) => setNewSearch(event.target.value)\r\n\r\n  return (\r\n    <div>\r\n      filter show with: <input value={newSearch} onChange={handleSearchChange} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Filter\r\n","import axios from 'axios'\r\n\r\nconst baseUrl = '/api/persons'\r\n\r\nconst create = (newObject) => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then((response) => response.data)\r\n}\r\n\r\nconst all = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then((response) => response.data)\r\n}\r\n\r\nconst deleteNum = (id) => {\r\n  const url = `${baseUrl}/${id}`\r\n  return axios.delete(url)\r\n}\r\n\r\nconst updateNum = ({ id, newObject }) => {\r\n  const url = `${baseUrl}/${id}`\r\n  const request = axios.put(url, newObject)\r\n  return request.then((response) => response.data)\r\n}\r\n\r\n// eslint-disable-next-line import/no-anonymous-default-export\r\nexport default { create, deleteNum, all, updateNum }\r\n","import React from 'react'\r\n\r\nimport personsServices from '../services/persons'\r\n\r\nconst Person = ({ name, number }) => {\r\n  return (\r\n    <li>\r\n      {name} {number}\r\n    </li>\r\n  )\r\n}\r\n\r\nconst Numbers = ({ personsFiltered, setPersonsFiltered, setAllPersons, allPersons }) => {\r\n  const deleteNumber = (person) => {\r\n    const confirmation = window.confirm(`Delete ${person.name}?`)\r\n    if (confirmation) {\r\n      personsServices.deleteNum(person.id).then(() => {\r\n        const filtered = personsFiltered.filter((pers) => pers.id !== person.id)\r\n        const allPersonsWithoutDeletedPerson = allPersons.filter((pers) => pers.id !== person.id)\r\n        setPersonsFiltered(filtered)\r\n        setAllPersons(allPersonsWithoutDeletedPerson)\r\n      })\r\n    }\r\n  }\r\n  return (\r\n    <ul>\r\n      {personsFiltered.map((person) => (\r\n        <div key={person.id}>\r\n          <Person name={person.name} number={person.number} />\r\n          <button onClick={() => deleteNumber(person)}>Delete </button>\r\n        </div>\r\n      ))}\r\n    </ul>\r\n  )\r\n}\r\n\r\nexport default Numbers\r\n","import React from 'react'\r\n\r\nimport personsServices from '../services/persons'\r\nimport { showErrorNotification } from './ErrorNotification'\r\n\r\nconst PersonForm = ({\r\n  newNumber,\r\n  newName,\r\n  allPersons,\r\n  setNewName,\r\n  setNewNumber,\r\n  setAllPersons,\r\n  setNewErrorNotification,\r\n}) => {\r\n  const handleNameChange = (event) => setNewName(event.target.value)\r\n\r\n  const handleNumberChange = (event) => setNewNumber(event.target.value)\r\n\r\n  const createNumber = (newObject) => {\r\n    personsServices\r\n      .create(newObject)\r\n      .then((newObj) => setAllPersons(allPersons.concat(newObj)))\r\n      .catch((error) => {\r\n        const msg = error.response.data.error\r\n        console.log('ERROR//', msg)\r\n        showErrorNotification({ msg, setNewErrorNotification })\r\n      })\r\n  }\r\n\r\n  const updateNumber = (id, newObject) => {\r\n    personsServices\r\n      .updateNum({ id, newObject })\r\n      .then((updatedPerson) => {\r\n        const newAllPersons = allPersons.map((person) =>\r\n          person.id === updatedPerson.id ? updatedPerson : person\r\n        )\r\n        setAllPersons(newAllPersons)\r\n      })\r\n      .catch((error) => {\r\n        const msg = error.response.data.error\r\n        console.log('ERROR//', msg)\r\n        showErrorNotification({ msg, setNewErrorNotification })\r\n      })\r\n  }\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault()\r\n    const newObject = {\r\n      name: newName,\r\n      number: newNumber,\r\n    }\r\n    const personFound = allPersons.find((element) => element.name === newName)\r\n\r\n    personFound ? updateNumber(personFound.id, newObject) : createNumber(newObject)\r\n    setNewName('')\r\n    setNewNumber('')\r\n  }\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      <div>\r\n        name: <input value={newName} onChange={handleNameChange} />\r\n      </div>\r\n      <div>\r\n        number: <input value={newNumber} onChange={handleNumberChange} />\r\n      </div>\r\n      <div>\r\n        <button type='submit'>add</button>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default PersonForm\r\n","import React, { useEffect, useState } from 'react'\r\n\r\nimport ErrorNotification from './components/ErrorNotification'\r\nimport Filter from './components/Filter'\r\nimport Numbers from './components/Numbers'\r\nimport PersonForm from './components/PersonForm'\r\n\r\nimport personsServices from './services/persons'\r\n\r\nconst App = () => {\r\n  const [allPersons, setAllPersons] = useState([])\r\n  const [personsFiltered, setPersonsFiltered] = useState([])\r\n  const [newName, setNewName] = useState('')\r\n  const [newNumber, setNewNumber] = useState('')\r\n  const [newSearch, setNewSearch] = useState('')\r\n  const [errorNotification, setNewErrorNotification] = useState('')\r\n\r\n  // let personsFiltered = allPersons.filter((person) =>\r\n  //   person.name.toLowerCase().includes(newSearch.toLowerCase())\r\n  // )\r\n  useEffect(() => {\r\n    personsServices.all().then((pers) => setAllPersons(pers))\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    const filtered = allPersons.filter((person) =>\r\n      person.name.toLowerCase().includes(newSearch.toLowerCase())\r\n    )\r\n    setPersonsFiltered(filtered)\r\n  }, [allPersons, setPersonsFiltered, newSearch])\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      {errorNotification && <ErrorNotification message={errorNotification} />}\r\n      <Filter newSearch={newSearch} setNewSearch={setNewSearch} />\r\n      <h2>Add a new</h2>\r\n      <PersonForm\r\n        newNumber={newNumber}\r\n        setNewNumber={setNewNumber}\r\n        newName={newName}\r\n        setNewName={setNewName}\r\n        allPersons={allPersons}\r\n        setAllPersons={setAllPersons}\r\n        setNewErrorNotification={setNewErrorNotification}\r\n      />\r\n      <h2>Numbers</h2>\r\n      <Numbers\r\n        personsFiltered={personsFiltered}\r\n        setPersonsFiltered={setPersonsFiltered}\r\n        allPersons={allPersons}\r\n        setAllPersons={setAllPersons}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App\r\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}