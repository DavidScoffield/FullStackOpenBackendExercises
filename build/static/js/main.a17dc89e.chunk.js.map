{"version":3,"sources":["components/Filter.js","services/persons.js","components/Numbers.js","components/PersonForm.js","App.js","index.js"],"names":["Filter","newSearch","setNewSearch","value","onChange","event","target","baseUrl","newObject","axios","post","then","response","data","id","url","delete","get","put","Person","name","number","Numbers","personsFiltered","setPersonsFiltered","map","person","onClick","window","confirm","personsServices","filtered","filter","pers","deleteNumber","PersonForm","newNumber","newName","allPersons","setNewName","setNewNumber","setAllPersons","onSubmit","e","preventDefault","personFound","find","element","updatedPerson","newAllPersons","catch","error","msg","console","log","updateNumber","newObj","concat","createNumber","type","App","useState","useEffect","toLowerCase","includes","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.a17dc89e.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({ newSearch, setNewSearch }) => {\r\n  const handleSearchChange = (event) => setNewSearch(event.target.value)\r\n\r\n  return (\r\n    <div>\r\n      filter show with: <input value={newSearch} onChange={handleSearchChange} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Filter\r\n","import axios from 'axios'\r\n\r\nconst baseUrl = '/api/persons'\r\n\r\nconst create = (newObject) => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then((response) => response.data)\r\n}\r\n\r\nconst all = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then((response) => response.data)\r\n}\r\n\r\nconst deleteNum = (id) => {\r\n  const url = `${baseUrl}/${id}`\r\n  return axios.delete(url)\r\n}\r\n\r\nconst updateNum = ({ id, newObject }) => {\r\n  const url = `${baseUrl}/${id}`\r\n  const request = axios.put(url, newObject)\r\n  return request.then((response) => response.data)\r\n}\r\n\r\n// eslint-disable-next-line import/no-anonymous-default-export\r\nexport default { create, deleteNum, all, updateNum }\r\n","import React from 'react'\r\n\r\nimport personsServices from '../services/persons'\r\n\r\nconst Person = ({ name, number }) => {\r\n  return (\r\n    <li>\r\n      {name} {number}\r\n    </li>\r\n  )\r\n}\r\n\r\nconst Numbers = ({ personsFiltered, setPersonsFiltered }) => {\r\n  const deleteNumber = (person) => {\r\n    const confirmation = window.confirm(`Delete ${person.name}?`)\r\n    if (confirmation) {\r\n      personsServices.deleteNum(person.id).then(() => {\r\n        const filtered = personsFiltered.filter((pers) => pers.id !== person.id)\r\n        setPersonsFiltered(filtered)\r\n      })\r\n    }\r\n  }\r\n  return (\r\n    <ul>\r\n      {personsFiltered.map((person) => (\r\n        <div key={person.id}>\r\n          <Person name={person.name} number={person.number} />\r\n          <button onClick={() => deleteNumber(person)}>Delete </button>\r\n        </div>\r\n      ))}\r\n    </ul>\r\n  )\r\n}\r\n\r\nexport default Numbers\r\n","import React from 'react'\r\n\r\nimport personsServices from '../services/persons'\r\n\r\nconst PersonForm = ({\r\n  newNumber,\r\n  newName,\r\n  allPersons,\r\n  setNewName,\r\n  setNewNumber,\r\n  setAllPersons,\r\n}) => {\r\n  const handleNameChange = (event) => setNewName(event.target.value)\r\n\r\n  const handleNumberChange = (event) => setNewNumber(event.target.value)\r\n\r\n  const createNumber = (newObject) => {\r\n    personsServices\r\n      .create(newObject)\r\n      .then((newObj) => setAllPersons(allPersons.concat(newObj)))\r\n      .catch((error) => {\r\n        const msg = error.response.data.error\r\n        console.log('ERROR//', msg)\r\n      })\r\n  }\r\n\r\n  const updateNumber = (id, newObject) => {\r\n    personsServices\r\n      .updateNum({ id, newObject })\r\n      .then((updatedPerson) => {\r\n        const newAllPersons = allPersons.map((person) =>\r\n          person.id === updatedPerson.id ? updatedPerson : person\r\n        )\r\n        setAllPersons(newAllPersons)\r\n      })\r\n      .catch((error) => {\r\n        const msg = error.response.data.error\r\n        console.log('ERROR//', msg)\r\n      })\r\n  }\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault()\r\n    const newObject = {\r\n      name: newName,\r\n      number: newNumber,\r\n    }\r\n    const personFound = allPersons.find((element) => element.name === newName)\r\n\r\n    personFound ? updateNumber(personFound.id, newObject) : createNumber(newObject)\r\n    setNewName('')\r\n    setNewNumber('')\r\n  }\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      <div>\r\n        name: <input value={newName} onChange={handleNameChange} />\r\n      </div>\r\n      <div>\r\n        number: <input value={newNumber} onChange={handleNumberChange} />\r\n      </div>\r\n      <div>\r\n        <button type='submit'>add</button>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default PersonForm\r\n","import React, { useEffect, useState } from 'react'\r\nimport Filter from './components/Filter'\r\nimport Numbers from './components/Numbers'\r\nimport PersonForm from './components/PersonForm'\r\n\r\nimport personsServices from './services/persons'\r\n\r\nconst App = () => {\r\n  const [allPersons, setAllPersons] = useState([])\r\n  const [personsFiltered, setPersonsFiltered] = useState([])\r\n  const [newName, setNewName] = useState('')\r\n  const [newNumber, setNewNumber] = useState('')\r\n  const [newSearch, setNewSearch] = useState('')\r\n\r\n  // let personsFiltered = allPersons.filter((person) =>\r\n  //   person.name.toLowerCase().includes(newSearch.toLowerCase())\r\n  // )\r\n  useEffect(() => {\r\n    personsServices.all().then((pers) => setAllPersons(pers))\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    const filtered = allPersons.filter((person) =>\r\n      person.name.toLowerCase().includes(newSearch.toLowerCase())\r\n    )\r\n    setPersonsFiltered(filtered)\r\n  }, [allPersons, setPersonsFiltered, newSearch])\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Filter newSearch={newSearch} setNewSearch={setNewSearch} />\r\n      <h2>Add a new</h2>\r\n      <PersonForm\r\n        newNumber={newNumber}\r\n        setNewNumber={setNewNumber}\r\n        newName={newName}\r\n        setNewName={setNewName}\r\n        allPersons={allPersons}\r\n        setAllPersons={setAllPersons}\r\n      />\r\n      <h2>Numbers</h2>\r\n      <Numbers personsFiltered={personsFiltered} setPersonsFiltered={setPersonsFiltered} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App\r\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}