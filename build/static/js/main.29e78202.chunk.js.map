{"version":3,"sources":["components/Filter.js","services/persons.js","components/Numbers.js","components/PersonForm.js","App.js","index.js"],"names":["Filter","newSearch","setNewSearch","value","onChange","event","target","baseUrl","newObject","axios","post","then","response","data","id","url","delete","get","Person","name","number","Numbers","personsFiltered","setPersonsFiltered","map","person","onClick","window","confirm","personsServices","filtered","filter","pers","deleteNumber","PersonForm","newNumber","newName","allPersons","setNewName","setNewNumber","setAllPersons","onSubmit","e","preventDefault","find","element","alert","newObj","concat","catch","error","msg","console","log","createNumber","type","App","useState","useEffect","toLowerCase","includes","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.29e78202.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({ newSearch, setNewSearch }) => {\r\n  const handleSearchChange = (event) => setNewSearch(event.target.value)\r\n\r\n  return (\r\n    <div>\r\n      filter show with: <input value={newSearch} onChange={handleSearchChange} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Filter\r\n","import axios from 'axios'\r\n\r\nconst baseUrl = '/api/persons'\r\n\r\nconst create = (newObject) => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then((response) => response.data)\r\n}\r\n\r\nconst all = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then((response) => response.data)\r\n}\r\n\r\nconst deleteNum = (id) => {\r\n  const url = `${baseUrl}/${id}`\r\n  return axios.delete(url)\r\n}\r\n\r\nexport default { create, deleteNum, all }\r\n","import React from 'react'\r\n\r\nimport personsServices from '../services/persons'\r\n\r\nconst Person = ({ name, number }) => {\r\n  return (\r\n    <li>\r\n      {name} {number}\r\n    </li>\r\n  )\r\n}\r\n\r\nconst Numbers = ({ personsFiltered, setPersonsFiltered }) => {\r\n  const deleteNumber = (person) => {\r\n    const confirmation = window.confirm(`Delete ${person.name}?`)\r\n    if (confirmation) {\r\n      personsServices.deleteNum(person.id).then(() => {\r\n        const filtered = personsFiltered.filter((pers) => pers.id !== person.id)\r\n        setPersonsFiltered(filtered)\r\n      })\r\n    }\r\n  }\r\n  return (\r\n    <ul>\r\n      {personsFiltered.map((person) => (\r\n        <div key={person.id}>\r\n          <Person name={person.name} number={person.number} />\r\n          <button onClick={() => deleteNumber(person)}>Delete </button>\r\n        </div>\r\n      ))}\r\n    </ul>\r\n  )\r\n}\r\n\r\nexport default Numbers\r\n","import React from 'react'\r\n\r\nimport personsServices from '../services/persons'\r\n\r\nconst PersonForm = ({\r\n  newNumber,\r\n  newName,\r\n  allPersons,\r\n  setNewName,\r\n  setNewNumber,\r\n  setAllPersons,\r\n}) => {\r\n  const handleNameChange = (event) => setNewName(event.target.value)\r\n\r\n  const handleNumberChange = (event) => setNewNumber(event.target.value)\r\n\r\n  const createNumber = (newObject) => {\r\n    personsServices\r\n      .create(newObject)\r\n      .then((newObj) => setAllPersons(allPersons.concat(newObj)))\r\n      .catch((error) => {\r\n        const msg = error.response.data.error\r\n        console.log('ERROR//', msg)\r\n      })\r\n  }\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault()\r\n    const newObject = {\r\n      name: newName,\r\n      number: newNumber,\r\n    }\r\n    allPersons.find((element) => element.name === newName)\r\n      ? alert(`${newName} already exist`)\r\n      : createNumber(newObject)\r\n    setNewName('')\r\n    setNewNumber('')\r\n  }\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      <div>\r\n        name: <input value={newName} onChange={handleNameChange} />\r\n      </div>\r\n      <div>\r\n        number: <input value={newNumber} onChange={handleNumberChange} />\r\n      </div>\r\n      <div>\r\n        <button type='submit'>add</button>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default PersonForm\r\n","import React, { useEffect, useState } from 'react'\r\nimport Filter from './components/Filter'\r\nimport Numbers from './components/Numbers'\r\nimport PersonForm from './components/PersonForm'\r\n\r\nimport personsServices from './services/persons'\r\n\r\nconst App = () => {\r\n  const [allPersons, setAllPersons] = useState([])\r\n  const [personsFiltered, setPersonsFiltered] = useState([])\r\n  const [newName, setNewName] = useState('')\r\n  const [newNumber, setNewNumber] = useState('')\r\n  const [newSearch, setNewSearch] = useState('')\r\n\r\n  // let personsFiltered = allPersons.filter((person) =>\r\n  //   person.name.toLowerCase().includes(newSearch.toLowerCase())\r\n  // )\r\n  useEffect(() => {\r\n    personsServices.all().then((pers) => setAllPersons(pers))\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    const filtered = allPersons.filter((person) =>\r\n      person.name.toLowerCase().includes(newSearch.toLowerCase())\r\n    )\r\n    setPersonsFiltered(filtered)\r\n  }, [allPersons, setPersonsFiltered, newSearch])\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Filter newSearch={newSearch} setNewSearch={setNewSearch} />\r\n      <h2>Add a new</h2>\r\n      <PersonForm\r\n        newNumber={newNumber}\r\n        setNewNumber={setNewNumber}\r\n        newName={newName}\r\n        setNewName={setNewName}\r\n        allPersons={allPersons}\r\n        setAllPersons={setAllPersons}\r\n      />\r\n      <h2>Numbers</h2>\r\n      <Numbers personsFiltered={personsFiltered} setPersonsFiltered={setPersonsFiltered} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App\r\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}